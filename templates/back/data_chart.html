{% extends 'back/base.html' %}

{% load static %}
{% load custom_tags %}
{% load i18n %}

{% block website_name %}{% trans 'Dashboard' %}
  <a class="btn btn-primary" href='{% url "data_chart" id=device.pk %}' role="button">{% trans 'Refresh' %}</a>
{% endblock %}

{% block stat %}
    <div class="col-xs-4 col-sm-2 placeholder">
        <a href="#co">
        <img src="{% static 'back/chart/img/co.png' %}" width="75" height="75" class="img-responsive"
             alt="{% trans 'Carbon monoxide' %}">
        <h4>{% trans 'Carbon monoxide' %}</h4></a>
    </div>
    <div class="col-xs-4 col-sm-2 placeholder">
        <a href="#co2">
        <img src="{% static 'back/chart/img/co2.png' %}" width="75" height="75" class="img-responsive"
             alt="{% trans 'Carbon dioxide' %}">
        <h4>{% trans 'Carbon dioxide' %}</h4></a>
    </div>
    <div class="col-xs-4 col-sm-2 placeholder">
        <a href="#acetona">
        <img src="{% static 'back/chart/img/acetona.jpg' %}" width="75" height="75" class="img-responsive"
             alt="{% trans 'Acetona' %}">
        <h4>{% trans 'Acetone' %}</h4></a>
    </div>
    <div class="col-xs-4 col-sm-2 placeholder">
        <a href="#nh4">
        <img src="{% static 'back/chart/img/nh4.png' %}" width="75" height="75" class="img-responsive"
             alt="{% trans 'Methane' %}">
        <h4>{% trans 'Amoni' %}</h4></a>
    </div>
    <div class="col-xs-4 col-sm-2 placeholder">
        <a href="#alcohol">
        <img src="{% static 'back/chart/img/alcohol.jpg' %}" width="75" height="75" class="img-responsive"
             alt="{% trans 'Alcohol' %}">
        <h4>{% trans 'Alcohol' %}</h4></a>
    </div>
    <div class="col-xs-4 col-sm-2 placeholder">
        <a href="#tolueno">
        <img src="{% static 'back/chart/img/tolueno.png' %}" width="75" height="75" class="img-responsive"
             alt="{% trans 'Tolueno' %}">
        <h4>{% trans 'Tolueno' %}</h4></a>
    </div>
    <!-- <div class="container" style="background-color: #97DEFF;"> -->
{% endblock %}
    <!-- <div class="col-xs-4 col-sm-2 placeholder">
      <div id="container" style="width: 50%;">
        <canvas id="chart1" data-url="{% url 'data_chart_ajax' device.pk %}"></canvas>
      </div>
    </div> -->
{% block content %}
<!-- <div class="container-fluid" style="background-color: #97DEFF; height: 10rem;" >
  <h1>Test</h1>
</div> -->
<div class="row mb-3" style="border-radius: 5px; background-color: #62CDFF; height: 12rem; padding-left: 3%;">
  <div class="mb-4 col-sm-6 col-lg-3 mb-4" style="height: 10rem; width: 16%;">
    <div class="card h-100">
      <div class="card-body">
        <div class="d-flex align-items-center justify-content-between">
          <div>
            <h4 class="fw-normal" style="color: whitesmoke; font-weight: bolder;">
              {{avg_1}} ppm
            </h4>
          </div>
        </div>
      </div>
      <div class="card-footer py-3 bg-red-light">
        <div class="align-items-center">
          <p class="mb-0" style="color: whitesmoke; font-weight: bolder;">CO</p>
        </div>
      </div>
    </div>
  </div>
  
  <div class="mb-4 col-sm-6 col-lg-3 mb-4" style="height: 10rem; width: 16%;">
    <div class="card h-100">
      <div class="card-body">
        <div class="d-flex align-items-center justify-content-between">
          <div>
            <h4 class="fw-normal" style="color: whitesmoke; font-weight: bolder;">
              {{avg_2}} ppm
            </h4>
          </div>
        </div>
      </div>
      <div class="card-footer py-3 bg-red-light">
        <div class="align-items-center">
          <p class="mb-0" style="color: whitesmoke; font-weight: bolder;">CO2</p>
        </div>
      </div>
    </div>
  </div>

  <div class="mb-4 col-sm-6 col-lg-3 mb-4" style="height: 10rem; width: 16%;">
    <div class="card h-100">
      <div class="card-body">
        <div class="d-flex align-items-center justify-content-between">
          <div>
            <h4 class="fw-normal" style="color: whitesmoke; font-weight: bolder;">
              {{avg_3}} ppm
            </h4>
          </div>
        </div>
      </div>
      <div class="card-footer py-3 bg-red-light">
        <div class="align-items-center">
          <p class="mb-0" style="color: whitesmoke; font-weight: bolder;">Acetone</p>
        </div>
      </div>
    </div>
  </div>

  <div class="mb-4 col-sm-6 col-lg-3 mb-4" style="height: 10rem; width: 16%;">
    <div class="card h-100">
      <div class="card-body">
        <div class="d-flex align-items-center justify-content-between">
          <div>
            <h4 class="fw-normal" style="color: whitesmoke; font-weight: bolder;">
              {{avg_4}} ppm
            </h4>
          </div>
        </div>
      </div>
      <div class="card-footer py-3 bg-red-light">
        <div class="align-items-center">
          <p class="mb-0" style="color: whitesmoke; font-weight: bolder;">NH4</p>
        </div>
      </div>
    </div>
  </div>

  <div class="mb-4 col-sm-6 col-lg-3 mb-4" style="height: 10rem; width: 16%;">
    <div class="card h-100">
      <div class="card-body">
        <div class="d-flex align-items-center justify-content-between">
          <div>
            <h4 class="fw-normal" style="color: whitesmoke; font-weight: bolder;">
              {{avg_5}} ppm
            </h4>
          </div>
        </div>
      </div>
      <div class="card-footer py-3 bg-red-light">
        <div class="align-items-center">
          <p class="mb-0" style="color: whitesmoke; font-weight: bolder;">Alcohol</p>
        </div>
      </div>
    </div>
  </div>

  <div class="mb-4 col-sm-6 col-lg-3 mb-4" style="height: 10rem; width: 16%;">
    <div class="card h-100">
      <div class="card-body">
        <div class="d-flex align-items-center justify-content-between">
          <div>
            <h4 class="fw-normal" style="color: whitesmoke; font-weight: bolder;">
              {{avg_6}} ppm
            </h4>
          </div>
        </div>
      </div>
      <div class="card-footer py-3 bg-red-light">
        <div class="align-items-center">
          <p class="mb-0" style="color: whitesmoke; font-weight: bolder;">Tolueno</p>
        </div>
      </div>
    </div>
  </div>

</div>
  <div id="container-2" style="background-color: #97DEFF;"></div>
    <a id="c1">
      <div class="canvas-container">
        <canvas id="chart1" data-url="{% url 'data_chart_ajax' device.pk %}"></canvas>
          <canvas id="chart2" data-url="{% url 'data_chart_ajax' device.pk %}" style="padding-left: 5%;"></canvas>
      </div>
    </a>

  <!-- <a id="co2">
    <div id="container2" style="width: 50%;">
      <canvas id="chart2" data-url="{% url 'data_chart_ajax' device.pk %}"></canvas>
    </div>
  </a> -->

    <a id="c2">
    <!-- <div id="container3" style="width: 95%;"> -->
      <div class="canvas-container">
        <canvas id="chart3" data-url="{% url 'data_chart_ajax' device.pk %}"></canvas>
        <canvas id="chart4" data-url="{% url 'data_chart_ajax' device.pk %}" style="padding-left: 5%;"></canvas>
      </div>
    </a>

  <!-- <a id="nh4">
    <div id="container4" style="width: 95%;">
      <canvas id="chart4" data-url="{% url 'data_chart_ajax' device.pk %}"></canvas>
    </div>
  </a> -->

    <a id="c3">
      <div class="canvas-container">
        <canvas id="chart5" data-url="{% url 'data_chart_ajax' device.pk %}"></canvas>
        <canvas id="chart6" data-url="{% url 'data_chart_ajax' device.pk %}" style="padding-left: 5%;"></canvas>
      </div>
    </a>

  <!-- <a id="tolueno">
    <div id="container6" style="width: 95%;">
      <canvas id="chart6" data-url="{% url 'data_chart_ajax' device.pk %}"></canvas>
    </div>
  </a> -->

  <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>
  <script>
    let curDevice = '{{ id }}';
    console.log(curDevice);
  </script>
  <script>

    $(function () {

      var $dataChart = $("#chart1");
      $.ajax({
        url: $dataChart.data("url"),
        success: function (data) {

          var ctx = $dataChart[0].getContext("2d");

          new Chart(ctx, {
            type: 'line',
            data: {
              labels: data.labels,
              datasets: [{
                label: 'CO gas',
                borderColor: '#17a2b8',
                data: data.data_1
              }]
            },
            options: {
              responsive: true,
              interaction: {
                mode: 'index',
                intersect: false,
              },
              legend: {
                position: 'top',
              },
              title: {
                display: true,
                text: 'CO gas chart'
              },
              bezierCurve: false,
              scales: {
                xAxes: [{
                  ticks: {
                    autoSkip: false,
                    maxRotation: 0,
                    minRotation: 0
                  }
                }]
              },
            }
          });
        }
      });
    });
  </script>

  <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>
  <script>

    $(function () {

      var $dataChart2 = $("#chart2");
      $.ajax({
        url: $dataChart2.data("url"),
        success: function (data) {

          var ctx = $dataChart2[0].getContext("2d");

          new Chart(ctx, {
            type: 'line',
            data: {
              labels: data.labels,
              datasets: [
              {
                label: 'CO2',
                borderColor: 'RED',
                data: data.data_2
              }]
            },
            options: {
              responsive: true,
              interaction: {
                mode: 'index',
                intersect: false,
              },
              legend: {
                position: 'top',
              },
              title: {
                display: true,
                text: 'CO2 gas chart'
              },
              bezierCurve: false,
              scales: {
                xAxes: [{
                  ticks: {
                    autoSkip: false,
                    maxRotation: 0,
                    minRotation: 0
                  }
                }]
              },
            }
          });
        }
      });
    });
  </script>
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>
  <script>

    $(function () {

      var $dataChart = $("#chart3");
      $.ajax({
        url: $dataChart.data("url"),
        success: function (data) {

          var ctx = $dataChart[0].getContext("2d");

          new Chart(ctx, {
            type: 'line',
            data: {
              labels: data.labels,
              datasets: [{
                label: 'Acetona gas',
                borderColor: 'LIME',
                data: data.data_3
              }]
            },
            options: {
              responsive: true,
              interaction: {
                mode: 'index',
                intersect: false,
              },
              legend: {
                position: 'top',
              },
              title: {
                display: true,
                text: 'Acetona gas chart'
              },
              bezierCurve: false,
              scales: {
                xAxes: [{
                  ticks: {
                    autoSkip: false,
                    maxRotation: 0,
                    minRotation: 0
                  }
                }]
              },
            }
          });
        }
      });
    });
  </script>

<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>
  <script>

    $(function () {

      var $dataChart = $("#chart4");
      $.ajax({
        url: $dataChart.data("url"),
        success: function (data) {

          var ctx = $dataChart[0].getContext("2d");

          new Chart(ctx, {
            type: 'line',
            data: {
              labels: data.labels,
              datasets: [{
                label: 'NH4 gas',
                borderColor: 'BLACK',
                data: data.data_4
              }]
            },
            options: {
              responsive: true,
              interaction: {
                mode: 'index',
                intersect: false,
              },
              legend: {
                position: 'top',
              },
              title: {
                display: true,
                text: 'NH4 gas chart'
              },
              bezierCurve: false,
              scales: {
                xAxes: [{
                  ticks: {
                    autoSkip: false,
                    maxRotation: 0,
                    minRotation: 0
                  }
                }]
              },
            }
          });
        }
      });
    });
  </script>
<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>
  <script>

    $(function () {

      var $dataChart = $("#chart5");
      $.ajax({
        url: $dataChart.data("url"),
        success: function (data) {

          var ctx = $dataChart[0].getContext("2d");

          new Chart(ctx, {
            type: 'line',
            data: {
              labels: data.labels,
              datasets: [{
                label: 'Alcohol gas',
                borderColor: 'YELLOW',
                data: data.data_5
              }]
            },
            options: {
              responsive: true,
              interaction: {
                mode: 'index',
                intersect: false,
              },
              legend: {
                position: 'top',
              },
              title: {
                display: true,
                text: 'Alcohol gas chart'
              },
              bezierCurve: false,
              scales: {
                xAxes: [{
                  ticks: {
                    autoSkip: false,
                    maxRotation: 0,
                    minRotation: 0
                  }
                }]
              },
            }
          });
        }
      });
    });
  </script>
<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>
  <script>

    $(function () {

      var $dataChart = $("#chart6");
      $.ajax({
        url: $dataChart.data("url"),
        success: function (data) {

          var ctx = $dataChart[0].getContext("2d");

          new Chart(ctx, {
            type: 'line',
            data: {
              labels: data.labels,
              datasets: [{
                label: 'Tolueno gas',
                borderColor: 'PINK',
                data: data.data_6
              }]
            },
            options: {
              responsive: true,
              interaction: {
                mode: 'index',
                intersect: false,
              },
              legend: {
                position: 'top',
              },
              title: {
                display: true,
                text: 'Tolueno gas chart'
              },
              bezierCurve: false,
              scales: {
                xAxes: [{
                  ticks: {
                    autoSkip: false,
                    maxRotation: 0,
                    minRotation: 0
                  }
                }]
              },
            }
          });
        }
      });
    });
  </script>
{% endblock %}
